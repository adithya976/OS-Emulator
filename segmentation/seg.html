<!DOCTYPE html>
<html>
<head>
  <title>Segmentation Simulator</title>
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">

  <!-- Font Awesome CSS -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css">

  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Outfit&display=swap" rel="stylesheet">

  <!-- Custom CSS -->
  <link rel="stylesheet" href="segmentation.css">
</head>
<body>
  <div class="header-container">
    <h1>Segmentation Simulator</h1>
  </div>

  <div class="container">
    <div class="row">
      <!-- Input Parameters Section -->
      <div class="col-md-4">
        <div class="card">
          <div class="card-header">Input Parameters</div>
          <div class="card-body">
            <div class="mb-3">
              <label for="memorySize" class="form-label">Memory Size:</label>
              <input type="number" class="form-control" id="memorySize" placeholder="Enter memory size" required>
            </div>
            
            <div class="mb-3">
              <label for="numProcesses" class="form-label">Number of Processes:</label>
              <input type="number" class="form-control" id="numProcesses" placeholder="Enter number of processes" required>
            </div>
            
            <div id="processInputs">
              <!-- Process inputs will be added here dynamically -->
            </div>

            <button id="submit-button" class="btn btn-primary w-100">Submit</button>
          </div>
        </div>

        <div class="card mt-3">
          <div class="card-header">Address Translation</div>
          <div class="card-body">
            <form id="addressForm" onsubmit="return calculatePhysicalAddress()">
              <div class="mb-3">
                <label for="processNumber" class="form-label">Process number:</label>
                <input type="number" class="form-control" id="processNumber" required>
              </div>
              <div class="mb-3">
                <label for="segmentNumber" class="form-label">Segment number:</label>
                <input type="number" class="form-control" id="segmentNumber" required>
              </div>
              <div class="mb-3">
                <label for="offset" class="form-label">Offset:</label>
                <input type="number" class="form-control" id="offset" required>
              </div>
              <button type="submit" class="btn btn-primary w-100">Calculate Physical Address</button>
            </form>
          </div>
        </div>

        <div class="card mt-3">
          <div class="card-header">Memory Allocation Method</div>
          <div class="card-body">
            <p class="mb-0">Using <strong>First Fit</strong> allocation algorithm</p>
          </div>
        </div>
      </div>

      <!-- Visualization Section -->
      <div class="col-md-8">
        <div class="card">
          <div class="card-header">Visualization</div>
          <div class="card-body">
            <h4>Segmentation Theory</h4>
            <p class="lead">
              Segmentation is a memory management scheme that divides a program into variable-sized segments based on logical units 
              such as functions, methods, objects, or data structures. Unlike paging, segments may have different sizes that correspond 
              to the actual size of their logical units. Each segment has a base address and a limit, which is used for protection 
              and address translation.
            </p>
            
            <div id="visualization" class="mt-4">
              <div id="memory-visualization" class="memory-visual">
                <!-- Memory visualization will be displayed here -->
              </div>
            </div>
            
            <div id="result" class="alert alert-info mt-3" style="display: none;"></div>
          </div>
        </div>

        <div class="card mt-3">
          <div class="card-header">Execution Steps</div>
          <div class="card-body">
            <div id="execution-steps">
              <!-- Steps will be displayed here -->
            </div>
          </div>
        </div>

        <div class="card mt-3">
          <div class="card-header">Segment Table</div>
          <div class="card-body">
            <div id="segment-table-container">
              <p>Select a process to view its segment table:</p>
              <select id="segmentTableProcessSelect" class="form-select mb-3">
                <option value="">Select a process</option>
              </select>
              <div id="segment-table" class="table-responsive">
                <!-- Segment table will be displayed here -->
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script src="segmentation.js"></script>
</body>
</html>